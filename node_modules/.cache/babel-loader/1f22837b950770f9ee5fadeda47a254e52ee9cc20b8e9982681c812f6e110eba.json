{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shanmukh bharadwaj/Desktop/project/treasurehunt-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shanmukh bharadwaj/Desktop/project/treasurehunt-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shanmukh bharadwaj/Desktop/project/treasurehunt-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{userActions}from\"../store/user-slice\";import useSound from\"use-sound\";import\"./Stage5.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var startTime,endTime,overallPoints;var Stage5=function Stage5(){var bonusAudio=process.env.PUBLIC_URL+\"/audios/bonus.wav\";var _useSound=useSound(bonusAudio),_useSound2=_slicedToArray(_useSound,1),playBonus=_useSound2[0];var levelAudio=process.env.PUBLIC_URL+\"/audios/levelup.wav\";var _useSound3=useSound(levelAudio),_useSound4=_slicedToArray(_useSound3,1),playLevel=_useSound4[0];var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),answer5=_useState2[0],setAnswer5=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),wrong5=_useState4[0],setWrong5=_useState4[1];var currentUser=useSelector(function(state){return state.current.currentUser;});var users=useSelector(function(state){return state.user;});var currentData=users.find(function(item){return item.userId===currentUser;});overallPoints=currentData.stage1Points+currentData.stage2Points+currentData.stage3Points+currentData.stage4Points;// console.log(currentData);\nuseEffect(function(){playLevel();startTime=Date.now();// notes the start time\n},[playLevel]);var handleClick5=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var elapsedTime,stage5Points,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!answer5){_context.next=21;break;}if(!(answer5.toLowerCase()===\"madagascar\")){_context.next=18;break;}playBonus();endTime=Date.now();// notes end time\nelapsedTime=endTime-startTime;elapsedTime/=60000;stage5Points=5-Math.floor(Math.floor(elapsedTime)/5);overallPoints+=5-Math.floor(Math.floor(elapsedTime)/5);_context.next=10;return fetch(\"https://treasurehunt-back.vercel.app/demo/update5\",{method:\"POST\",body:JSON.stringify({userId:currentUser,stage5Time:elapsedTime,stage5Points:stage5Points,overallPoints:overallPoints}),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return console.log(\"response stage1\",response.json());});case 10:response=_context.sent;console.log(response);dispatch(userActions.setStage5Time({userId:currentUser,time:elapsedTime}));dispatch(userActions.setStage5Points({userId:currentUser,points:5-Math.floor(Math.floor(elapsedTime)/5)}));dispatch(userActions.setOverallPoints({userId:currentUser,points:overallPoints/5}));setTimeout(function(){navigate(\"/pirate/success\");},1000);_context.next=19;break;case 18:setWrong5(true);case 19:_context.next=22;break;case 21:setWrong5(true);case 22:case\"end\":return _context.stop();}},_callee);}));return function handleClick5(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"stage5Div\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to the last round of the treasure hunt!!!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You have already got everything you need to get the treasure.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Name that island where BlackBeard hid his treasure and the Treasure is yours.\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setAnswer5(event.target.value);},className:\"answerInput\",type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{className:\"piratebtn default\",onClick:handleClick5,children:\"Check\"}),wrong5&&/*#__PURE__*/_jsx(\"p\",{className:\"redline\",id:\"wrongAnswer\",children:\"Oops !! wrong answer.\"}),/*#__PURE__*/_jsx(\"hr\",{id:\"line\"}),/*#__PURE__*/_jsx(\"p\",{id:\"hint\",children:\"Hint : Find the source of this page.\"}),/*#__PURE__*/_jsx(\"div\",{id:\"sayingDiv5\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"move\",id:\"jackStage5Image\",src:\"/images/pic2.webp\",alt:\"jacksparrow\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"jackshint\",children:\"ps: Jack's hint NOT available for this round\"})]});};export default Stage5;","map":{"version":3,"names":["useState","useEffect","useNavigate","useSelector","useDispatch","userActions","useSound","jsx","_jsx","jsxs","_jsxs","startTime","endTime","overallPoints","Stage5","bonusAudio","process","env","PUBLIC_URL","_useSound","_useSound2","_slicedToArray","playBonus","levelAudio","_useSound3","_useSound4","playLevel","dispatch","navigate","_useState","_useState2","answer5","setAnswer5","_useState3","_useState4","wrong5","setWrong5","currentUser","state","current","users","user","currentData","find","item","userId","stage1Points","stage2Points","stage3Points","stage4Points","Date","now","handleClick5","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","elapsedTime","stage5Points","response","wrap","_callee$","_context","prev","next","toLowerCase","Math","floor","fetch","method","body","JSON","stringify","stage5Time","headers","then","console","log","json","sent","setStage5Time","time","setStage5Points","points","setOverallPoints","setTimeout","stop","apply","arguments","id","children","onChange","event","target","value","className","type","onClick","src","alt"],"sources":["C:/Users/shanmukh bharadwaj/Desktop/project/treasurehunt-frontend/src/components/Stage5.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { userActions } from \"../store/user-slice\";\r\nimport useSound from \"use-sound\";\r\nimport \"./Stage5.css\";\r\n\r\nlet startTime, endTime, overallPoints;\r\nconst Stage5 = () => {\r\n  const bonusAudio = process.env.PUBLIC_URL + \"/audios/bonus.wav\";\r\n  const [playBonus] = useSound(bonusAudio);\r\n  const levelAudio = process.env.PUBLIC_URL + \"/audios/levelup.wav\";\r\n  const [playLevel] = useSound(levelAudio);\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [answer5, setAnswer5] = useState(\"\");\r\n  const [wrong5, setWrong5] = useState(false);\r\n\r\n  const currentUser = useSelector((state) => state.current.currentUser);\r\n  const users = useSelector((state) => state.user);\r\n  const currentData = users.find((item) => item.userId === currentUser);\r\n\r\n  overallPoints =\r\n    currentData.stage1Points +\r\n    currentData.stage2Points +\r\n    currentData.stage3Points +\r\n    currentData.stage4Points;\r\n\r\n  // console.log(currentData);\r\n  useEffect(() => {\r\n    playLevel();\r\n    startTime = Date.now(); // notes the start time\r\n  }, [playLevel]);\r\n\r\n  const handleClick5 = async () => {\r\n    if (answer5) {\r\n      if (answer5.toLowerCase() === \"madagascar\") {\r\n        playBonus();\r\n        endTime = Date.now(); // notes end time\r\n        var elapsedTime = endTime - startTime;\r\n        elapsedTime /= 60000;\r\n\r\n        const stage5Points = 5 - Math.floor(Math.floor(elapsedTime) / 5);\r\n        overallPoints += 5 - Math.floor(Math.floor(elapsedTime) / 5);\r\n\r\n        const response = await fetch(\r\n          \"https://treasurehunt-back.vercel.app/demo/update5\",\r\n          {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n              userId: currentUser,\r\n              stage5Time: elapsedTime,\r\n              stage5Points: stage5Points,\r\n              overallPoints: overallPoints,\r\n            }),\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        ).then((response) => console.log(\"response stage1\", response.json()));\r\n\r\n        console.log(response);\r\n\r\n        dispatch(\r\n          userActions.setStage5Time({ userId: currentUser, time: elapsedTime })\r\n        );\r\n        dispatch(\r\n          userActions.setStage5Points({\r\n            userId: currentUser,\r\n            points: 5 - Math.floor(Math.floor(elapsedTime) / 5),\r\n          })\r\n        );\r\n\r\n        dispatch(\r\n          userActions.setOverallPoints({\r\n            userId: currentUser,\r\n            points: overallPoints / 5,\r\n          })\r\n        );\r\n\r\n        setTimeout(() => {\r\n          navigate(\"/pirate/success\");\r\n        }, 1000);\r\n      } else {\r\n        setWrong5(true);\r\n      }\r\n    } else {\r\n      setWrong5(true);\r\n    }\r\n  };\r\n  return (\r\n    <div id=\"stage5Div\">\r\n      <h1>Welcome to the last round of the treasure hunt!!!</h1>\r\n      <p>You have already got everything you need to get the treasure.</p>\r\n\r\n      <p>\r\n        Name that island where BlackBeard hid his treasure and the Treasure is\r\n        yours.\r\n      </p>\r\n\r\n      <input\r\n        onChange={(event) => {\r\n          setAnswer5(event.target.value);\r\n        }}\r\n        className=\"answerInput\"\r\n        type=\"text\"\r\n      ></input>\r\n      <button className=\"piratebtn default\" onClick={handleClick5}>\r\n        Check\r\n      </button>\r\n      {wrong5 && (\r\n        <p className=\"redline\" id=\"wrongAnswer\">\r\n          Oops !! wrong answer.\r\n        </p>\r\n      )}\r\n      <hr id=\"line\" />\r\n      <p id=\"hint\">Hint : Find the source of this page.</p>\r\n      <div id=\"sayingDiv5\">\r\n        <span>\r\n          <img\r\n            className=\"move\"\r\n            id=\"jackStage5Image\"\r\n            src=\"/images/pic2.webp\"\r\n            alt=\"jacksparrow\"\r\n          />\r\n        </span>\r\n      </div>\r\n      <p className=\"jackshint\">ps: Jack's hint NOT available for this round</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Stage5;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}