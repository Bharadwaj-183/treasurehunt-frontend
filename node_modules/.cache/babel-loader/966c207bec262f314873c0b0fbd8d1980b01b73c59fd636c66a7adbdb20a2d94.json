{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shanmukh bharadwaj/Desktop/project/treasurehunt-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shanmukh bharadwaj/Desktop/project/treasurehunt-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shanmukh bharadwaj/Desktop/project/treasurehunt-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./CorrectChest.css\";import{useNavigate}from\"react-router-dom\";import Modal from\"./ClueModal/Modal/Modal\";import Backdrop from\"./ClueModal/Backdrop/Backdrop\";import{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{userActions}from\"../store/user-slice\";import useSound from\"use-sound\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var startTime,endTime;var CorrectChest=function CorrectChest(){var bonusAudio=process.env.PUBLIC_URL+\"/audios/bonus.wav\";var _useSound=useSound(bonusAudio),_useSound2=_slicedToArray(_useSound,1),playBonus=_useSound2[0];var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalIsOpen=_useState2[0],setModalIsOpen=_useState2[1];var currentUser=useSelector(function(state){return state.current.currentUser;});useEffect(function(){startTime=Date.now();// notes the start time\n},[]);var closeModal=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var elapsedTime,stage4Points,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setModalIsOpen(false);endTime=Date.now();// notes end time\nelapsedTime=endTime-startTime;elapsedTime/=60000;stage4Points=5-Math.floor(Math.floor(elapsedTime)/5);_context.next=7;return fetch(\"https://treasurehunt-sigma.vercel.app/demo/update4\",{method:\"POST\",body:JSON.stringify({userId:currentUser,stage4Time:elapsedTime,stage4Points:stage4Points}),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return console.log(\"response stage1\",response.json());});case 7:response=_context.sent;console.log(response);dispatch(userActions.setStage4Time({userId:currentUser,time:elapsedTime}));dispatch(userActions.setStage4Points({userId:currentUser,points:5-Math.floor(Math.floor(elapsedTime)/5)}));setTimeout(function(){navigate(\"/pirate/stage5\");},1000);case 12:case\"end\":return _context.stop();}},_callee);}));return function closeModal(){return _ref.apply(this,arguments);};}();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),best=_useState4[0],setBest=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),wrong4=_useState6[0],setWrong4=_useState6[1];var handleCheck=function handleCheck(){if(best){if(best.toLowerCase()===\"jack\"){playBonus();setModalIsOpen(true);}else{setWrong4(true);}}else{setWrong4(false);}};return/*#__PURE__*/_jsxs(\"div\",{id:\"correctchest\",children:[/*#__PURE__*/_jsx(Modal,{show:modalIsOpen,closed:closeModal,data:\"RACS\"}),/*#__PURE__*/_jsx(Backdrop,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Great!! You have come so faar.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Looks like you found something \"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Tell me your best friend namee :) \"}),/*#__PURE__*/_jsx(\"p\",{children:\"And I will give you the last piece of clue\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"answerInput\",onChange:function onChange(event){setBest(event.target.value);}}),wrong4&&/*#__PURE__*/_jsx(\"p\",{id:\"wrongAnswer\",children:\"Oops !! wrong answer.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"piratebtn default\",onClick:handleCheck,children:\"Check\"}),/*#__PURE__*/_jsx(\"hr\",{id:\"line\"}),/*#__PURE__*/_jsx(\"p\",{id:\"hint\",children:\"hint : someone is missing here\"}),/*#__PURE__*/_jsx(\"p\",{className:\"jackshint\",children:\"ps: Jack's hint NOT available for this round\"})]});};export default CorrectChest;","map":{"version":3,"names":["useNavigate","Modal","Backdrop","useState","useEffect","useSelector","useDispatch","userActions","useSound","jsx","_jsx","jsxs","_jsxs","startTime","endTime","CorrectChest","bonusAudio","process","env","PUBLIC_URL","_useSound","_useSound2","_slicedToArray","playBonus","dispatch","navigate","_useState","_useState2","modalIsOpen","setModalIsOpen","currentUser","state","current","Date","now","closeModal","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","elapsedTime","stage4Points","response","wrap","_callee$","_context","prev","next","Math","floor","fetch","method","body","JSON","stringify","userId","stage4Time","headers","then","console","log","json","sent","setStage4Time","time","setStage4Points","points","setTimeout","stop","apply","arguments","_useState3","_useState4","best","setBest","_useState5","_useState6","wrong4","setWrong4","handleCheck","toLowerCase","id","children","show","closed","data","type","className","onChange","event","target","value","onClick"],"sources":["C:/Users/shanmukh bharadwaj/Desktop/project/treasurehunt-frontend/src/components/CorrectChest.js"],"sourcesContent":["import \"./CorrectChest.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Modal from \"./ClueModal/Modal/Modal\";\r\nimport Backdrop from \"./ClueModal/Backdrop/Backdrop\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { userActions } from \"../store/user-slice\";\r\nimport useSound from \"use-sound\";\r\nlet startTime, endTime;\r\n\r\nconst CorrectChest = () => {\r\n  const bonusAudio = process.env.PUBLIC_URL + \"/audios/bonus.wav\";\r\n  const [playBonus] = useSound(bonusAudio);\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n  const currentUser = useSelector((state) => state.current.currentUser);\r\n\r\n  useEffect(() => {\r\n    startTime = Date.now(); // notes the start time\r\n  }, []);\r\n\r\n  const closeModal = async () => {\r\n    setModalIsOpen(false);\r\n    endTime = Date.now(); // notes end time\r\n    var elapsedTime = endTime - startTime;\r\n    elapsedTime /= 60000;\r\n\r\n    const stage4Points = 5 - Math.floor(Math.floor(elapsedTime) / 5);\r\n\r\n    const response = await fetch(\r\n      \"https://treasurehunt-sigma.vercel.app/demo/update4\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          userId: currentUser,\r\n          stage4Time: elapsedTime,\r\n          stage4Points: stage4Points,\r\n        }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    ).then((response) => console.log(\"response stage1\", response.json()));\r\n\r\n    console.log(response);\r\n\r\n    dispatch(\r\n      userActions.setStage4Time({ userId: currentUser, time: elapsedTime })\r\n    );\r\n\r\n    dispatch(\r\n      userActions.setStage4Points({\r\n        userId: currentUser,\r\n        points: 5 - Math.floor(Math.floor(elapsedTime) / 5),\r\n      })\r\n    );\r\n    setTimeout(() => {\r\n      navigate(\"/pirate/stage5\");\r\n    }, 1000);\r\n  };\r\n\r\n  const [best, setBest] = useState(\"\");\r\n  const [wrong4, setWrong4] = useState(false);\r\n  const handleCheck = () => {\r\n    if (best) {\r\n      if (best.toLowerCase() === \"jack\") {\r\n        playBonus();\r\n        setModalIsOpen(true);\r\n      } else {\r\n        setWrong4(true);\r\n      }\r\n    } else {\r\n      setWrong4(false);\r\n    }\r\n  };\r\n  return (\r\n    <div id=\"correctchest\">\r\n      <Modal show={modalIsOpen} closed={closeModal} data={\"RACS\"} />\r\n      <Backdrop />\r\n      <p>Great!! You have come so faar.</p>\r\n      <p>Looks like you found something </p>\r\n      <h1>Tell me your best friend namee :) </h1>\r\n      <p>And I will give you the last piece of clue</p>\r\n      <input\r\n        type=\"text\"\r\n        className=\"answerInput\"\r\n        onChange={(event) => {\r\n          setBest(event.target.value);\r\n        }}\r\n      />\r\n      {wrong4 && <p id=\"wrongAnswer\">Oops !! wrong answer.</p>}\r\n      <button className=\"piratebtn default\" onClick={handleCheck}>\r\n        Check\r\n      </button>\r\n      <hr id=\"line\" />\r\n\r\n      <p id=\"hint\">hint : someone is missing here</p>\r\n\r\n      <p className=\"jackshint\">ps: Jack's hint NOT available for this round</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CorrectChest;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}